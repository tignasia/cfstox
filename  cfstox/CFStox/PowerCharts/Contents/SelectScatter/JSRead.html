<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>PowerCharts v3 Documentation</title>
<link rel="stylesheet" href="../css/Style.css" type="text/css" />
<script type="text/javascript" src="../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../assets/prettify/prettify.css" />
<script type="text/javascript" src="../assets/ui/js/jquery-1.4.2.min.js" ></script>
<script type="text/javascript" src="../assets/ui/js/lib.js" ></script>
</head>

<body>
<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Select Scatter  Chart &gt; Reading data using JavaScript </td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>In our previous section, we had seen how to submit the list of selected data points from chart to a server side script as XML. Here, we'll see how to read the updated data using JavaScript functions present on the same page.</p>
      <p class="highlightBlock">Code samples discussed in this section is present in <span class="codeInline">Download Package &gt; Code &gt; ScatterReturn</span> folder.</p>      
    </td>
  </tr>
  
  <tr>
    <td valign="top" class="text">After the chart is rendered, whenever we need access to chart's data as array, we can simple call the following function on the chart: 
      <pre class="prettyprint code_container"><span class="codeComment">//Get a reference to our chart</span>
var ourChart = FusionCharts(&quot;SelectChart&quot;);    
<span class="codeComment">//Now get the data as array. </span>
var arrData = <strong>ourChart.getData()</strong>;</pre>
      <p>We first need to get a reference to the chart object. We do so using <span class="codeInline"><a href="../FCV3Basics/JavaScript/API/Methods.html">FusionCharts</a> </span>item reference  method. Next, to get the data as array, we simply call the <span class="codeInline">getData</span> method of the chart. This method returns the data of chart in a 2-dimensional array. The structure of the array is as under: </p>
    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><table class="table" width="98%" border="0" cellpadding="2" cellspacing="0" >
      <tr>
        <td width="18%" valign="top" class="text"><strong>[1,0] - Dataset 1 - </strong>This cell contains dataset id </td>
        <td width="20%" valign="top" class="text">Selected data point id for dataset 1 </td>
        <td width="20%" valign="top" class="text">Selected data point id for dataset 1 </td>
        <td width="20%" valign="top" class="text">Selected data point id for dataset 1 </td>
        <td width="20%" valign="top" class="text">Selected data point id for this dataset..   <br /><br />       Can be any number of items... </td>
      </tr>
      <tr>
        <td valign="top" class="text"><strong>[2,0] - Dataset 2 - </strong>This cell contains dataset id </td>
        <td valign="top" class="text">Selected data point id for dataset 2 </td>
        <td valign="top" class="text">Selected data point id for dataset 2 </td>
        <td valign="top" class="text">Selected data point id for dataset 2 </td>
        <td valign="top" class="text">Selected data point id for this dataset.. <br /><br />         Can be any number of items... </td>
      </tr>
      <tr>
        <td valign="top" class="text"><strong>[n,0] - Dataset n - </strong>This cell contains dataset id </td>
        <td valign="top" class="text">Selected data point id for dataset n </td>
        <td valign="top" class="text">Selected data point id for dataset n </td>
        <td valign="top" class="text">Selected data point id for dataset n </td>
        <td valign="top" class="text">Selected data point id for this dataset..  <br /><br />        Can be any number of items...		</td>
      </tr>
    </table><p></p></td></tr>
  
  
 <tr>
		<td align="left">
		<div class="container">
		<ul class="tabs">
       <li><a href="#tab1">XML</a></li>
       <li><a href="#tab2">JSON</a></li>
    </ul>
	<div class="tab_container">
       <div id="tab1" class="tab_content">
	   <pre class="prettyprint code_container">&lt;chart palette='3' caption='Investment Analysis Tool' subcaption='Drag over the required investments to select them. You can have
       multiple selections.' yAxisName='Returns till date' xAxisName='Age (years)' showLegend='1' showLabels='1'
       xAxisMaxValue='10' xAxisMinValue='0' showFormBtn='0' numberSuffix='%' &gt;
  &nbsp;&nbsp;&nbsp;&lt;categories verticalLineThickness='1'&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='1' x='1' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='2' x='2' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='3' x='3' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='4' x='4' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='5' x='5' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='6' x='6' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='7' x='7' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='8' x='8' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='9' x='9' showVerticalLine='1'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;category label='10' x='10' showVerticalLine='0'/&gt;
  &nbsp;&nbsp;&nbsp;&lt;/categories&gt;
     &lt;dataSet id='EQS' seriesName='Equities' color='0372AB' plotBorderThickness='0' showPlotBorder='1' anchorSides='3'&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_1' x='4.2' y='193.2' tooltext='Script B1: 4.2 yrs., 193.2%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_2' x='2.8' y='33.6' tooltext='Script C2: 2.8 yrs., 33.6%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_3' x='6.2' y='24.8' tooltext='Script D3: 6.2 yrs., 24.8%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_4' x='1' y='14' tooltext='Script E4: 1 yrs., 14%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_5' x='1.2' y='26.4' tooltext='Script F5: 1.2 yrs., 26.4%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_6' x='4.4' y='114.4' tooltext='Script G6: 4.4 yrs., 114.4%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_7' x='8.5' y='323' tooltext='Script H7: 8.5 yrs., 323%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_8' x='6.9' y='289.8' tooltext='Script I8: 6.9 yrs., 289.8%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_9' x='9.9' y='287.1' tooltext='Script J9: 9.9 yrs., 287.1%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVEQ324_10' x='0.9' y='9' tooltext='Script K10: 0.9 yrs., 9%'/&gt;
  &nbsp;&nbsp;&nbsp;&lt;/dataSet&gt;
     &lt;dataSet id='MFS' seriesName='Mutual Funds' color='FF9900' showPlotBorder='1' anchorRadius='4'&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_1' x='1.4' y='32.2' tooltext='Fund A: 1.4 yrs., 32.2%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_2' x='1.6' y='27' tooltext='Fund B: 0.6 yrs., 27%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_3' x='4.7' y='230.3' tooltext='Fund C: 4.7 yrs., 230.3%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_4' x='8.9' y='160.2' tooltext='Fund D: 8.9 yrs., 160.2%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_5' x='3' y='24' tooltext='Fund E: 3 yrs., 24%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_6' x='2' y='94' tooltext='Fund F: 2 yrs., 94%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_7' x='8.5' y='399.5' tooltext='Fund G: 8.5 yrs., 399.5%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_8' x='6.9' y='289.8' tooltext='Fund H: 6.9 yrs., 289.8%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_9' x='1.3' y='15.6' tooltext='Fund I: 1.3 yrs., 15.6%'/&gt;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set id='INVMF324_10' x='7.1' y='333.7' tooltext='Fund J: 7.1 yrs., 333.7%'/&gt;
  &nbsp;&nbsp;&nbsp;&lt;/dataSet&gt;
&lt;/chart&gt;</pre>
       </div>
<div id="tab2" class="tab_content">
   <pre id="pre-datajson" class="prettyprint code_container">{
  "chart":{
    "palette":"3",
    "caption":"Investment Analysis Tool",
    "subcaption":"Drag over the required investments to select them. You can have        multiple selections.",
    "yaxisname":"Returns till date",
    "xaxisname":"Age (years)",
    "showlegend":"1",
    "showLabels":"1",
    "xaxismaxvalue":"10",
    "xaxisminvalue":"0",
    "showformbtn":"0",
    "numbersuffix":"%"
  },
  "categories":[{
      "verticallinethickness":"1",
      "category":[{
          "label":"1",
          "x":"1",
          "showverticalline":"1"
        },
        {
          "label":"2",
          "x":"2",
          "showverticalline":"1"
        },
        {
          "label":"3",
          "x":"3",
          "showverticalline":"1"
        },
        {
          "label":"4",
          "x":"4",
          "showverticalline":"1"
        },
        {
          "label":"5",
          "x":"5",
          "showverticalline":"1"
        },
        {
          "label":"6",
          "x":"6",
          "showverticalline":"1"
        },
        {
          "label":"7",
          "x":"7",
          "showverticalline":"1"
        },
        {
          "label":"8",
          "x":"8",
          "showverticalline":"1"
        },
        {
          "label":"9",
          "x":"9",
          "showverticalline":"1"
        },
        {
          "label":"10",
          "x":"10",
          "showverticalline":"0"
        }
      ]
    }
  ],
  "dataset":[{
      "id":"EQS",
      "seriesname":"Equities",
      "color":"0372AB",
      "plotborderthickness":"0",
      "showplotborder":"1",
      "anchorsides":"3",
      "data":[{
          "id":"INVEQ324_1",
          "x":"4.2",
          "y":"193.2",
          "tooltext":"Script B1: 4.2 yrs., 193.2%"
        },
        {
          "id":"INVEQ324_2",
          "x":"2.8",
          "y":"33.6",
          "tooltext":"Script C2: 2.8 yrs., 33.6%"
        },
        {
          "id":"INVEQ324_3",
          "x":"6.2",
          "y":"24.8",
          "tooltext":"Script D3: 6.2 yrs., 24.8%"
        },
        {
          "id":"INVEQ324_4",
          "x":"1",
          "y":"14",
          "tooltext":"Script E4: 1 yrs., 14%"
        },
        {
          "id":"INVEQ324_5",
          "x":"1.2",
          "y":"26.4",
          "tooltext":"Script F5: 1.2 yrs., 26.4%"
        },
        {
          "id":"INVEQ324_6",
          "x":"4.4",
          "y":"114.4",
          "tooltext":"Script G6: 4.4 yrs., 114.4%"
        },
        {
          "id":"INVEQ324_7",
          "x":"8.5",
          "y":"323",
          "tooltext":"Script H7: 8.5 yrs., 323%"
        },
        {
          "id":"INVEQ324_8",
          "x":"6.9",
          "y":"289.8",
          "tooltext":"Script I8: 6.9 yrs., 289.8%"
        },
        {
          "id":"INVEQ324_9",
          "x":"9.9",
          "y":"287.1",
          "tooltext":"Script J9: 9.9 yrs., 287.1%"
        },
        {
          "id":"INVEQ324_10",
          "x":"0.9",
          "y":"9",
          "tooltext":"Script K10: 0.9 yrs., 9%"
        }
      ]
    },
    {
      "id":"MFS",
      "seriesname":"Mutual Funds",
      "color":"FF9900",
      "showplotborder":"1",
      "anchorradius":"4",
      "data":[{
          "id":"INVMF324_1",
          "x":"1.4",
          "y":"32.2",
          "tooltext":"Fund A: 1.4 yrs., 32.2%"
        },
        {
          "id":"INVMF324_2",
          "x":"1.6",
          "y":"27",
          "tooltext":"Fund B: 0.6 yrs., 27%"
        },
        {
          "id":"INVMF324_3",
          "x":"4.7",
          "y":"230.3",
          "tooltext":"Fund C: 4.7 yrs., 230.3%"
        },
        {
          "id":"INVMF324_4",
          "x":"8.9",
          "y":"160.2",
          "tooltext":"Fund D: 8.9 yrs., 160.2%"
        },
        {
          "id":"INVMF324_5",
          "x":"3",
          "y":"24",
          "tooltext":"Fund E: 3 yrs., 24%"
        },
        {
          "id":"INVMF324_6",
          "x":"2",
          "y":"94",
          "tooltext":"Fund F: 2 yrs., 94%"
        },
        {
          "id":"INVMF324_7",
          "x":"8.5",
          "y":"399.5",
          "tooltext":"Fund G: 8.5 yrs., 399.5%"
        },
        {
          "id":"INVMF324_8",
          "x":"6.9",
          "y":"289.8",
          "tooltext":"Fund H: 6.9 yrs., 289.8%"
        },
        {
          "id":"INVMF324_9",
          "x":"1.3",
          "y":"15.6",
          "tooltext":"Fund I: 1.3 yrs., 15.6%"
        },
        {
          "id":"INVMF324_10",
          "x":"7.1",
          "y":"333.7",
          "tooltext":"Fund J: 7.1 yrs., 333.7%"
        }
      ]
    }
  ]
}</pre>
 </div>
	</div></div>
      
<p>Now, from this chart, if you select 3 data points from Equities dataset and 5 from Mutual Funds dataset and then return the data of chart as array using the <span class="codeInline">getData()</span> method of the chart object, the tabular mapping of returned array can be traced as under: </p>
  </td>
  </tr>
  <tr>
    <td valign="top" class="text"><table class="table" width="98%" border="0" cellpadding="0" cellspacing="0" >
      <tr>
        <td width="12%"><strong>EQS</strong></td>
        <td>INVEQ324_2</td>
        <td>INVEQ324_5</td>
        <td>INVEQ324_6</td>
        <td width="20%">&nbsp;</td>
        <td width="19%">&nbsp;</td>
      </tr>
      <tr>
        <td height="18"><strong>MFS </strong></td>
        <td width="16%">INVMF324_2</td>
        <td width="17%">INVMF324_4</td>
        <td width="16%">INVMF324_6</td>
        <td>INVMF324_8</td>
        <td>INVMF324_10</td>
      </tr>
    </table>    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>If you map this with XML, you'll find the following:</p>
      <ul>
        <li>Each dataset is returned as a single row in the array</li>
        <li>The first column of each row contains the dataset index.</li>
        <li>The rest of the columns contain the ids of selected points of that dataset.</li>
        <li>The length of each row's array (horizontally) can be different, depending on the number of data points chosen for that dataset.</li>
      </ul> 
      <p>See it <a href="../../Code/ScatterReturn/Default.html" target="_blank">live</a>! </p>
    </td>
  </tr>
  <tr><td height="25"></td></tr>
  <tr>
    <td valign="top" class="header">Reading XML Data from the chart </td>
  </tr>
  <tr>
    <td valign="top" class="text">
      <p>The chart also provides a method to read the selected data in XML format. This method is named as <span class="codeInline">getXMLData</span>() and can be invoked as under:</p>
  
      <pre class="prettyprint code_container"><span class="codeComment">//Get a reference to our chart</span>
var ourChart = FusionCharts(&quot;SelectChart&quot;); 
<span class="codeComment">//Get the data from chart </span>
var xmlRtn = ourChart.getXMLData();
<span class="codeComment">//Show it to user in alert box.</span>
alert(xmlRtn);</pre>    
    </td>
  </tr>
   <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="highlightBlock text">The function <span class="codeInline"><a href="../FCV3Basics/JavaScript/JS_DataBackFromChart.html#selectscatter">getXMLData</a>()</span>returns the selected data. This function is also used to retrieve the complete data from the chart. To get the <a href="../FCV3Basics/JavaScript/JS_DataBackFromChart.html#selectscatter">complete data</a> from the chart you need pass <span class="codeInline">false</span> as a parameter to the function. e.g., <span class="codeInline">var xmlRtn = ourChart.getXMLData(<strong>false</strong>);</span></td>
  </tr>
  <tr><td height="25"></td></tr>
  <tr>
    <td valign="top" class="header">Example Application in Code Download </td>
  </tr>
  <tr>
    <td valign="top" class="text">
      <p>Using all this information, we've built a simple example where we data from chart and render it dynamically in tabular format at client side using JavaScript. The code for this is contained in <span class="codeInline">Chart.html</span> in<span class="codeInline"> Download Package &gt; Code &gt;ScatterReturn</span> folder.</p>
      <p>See it <a href="../../Code/ScatterReturn/Default.html">live</a>! </p>
    </td>
  </tr>
</table>
</body>
</html>
