<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>PowerCharts v3 Documentation</title>
<link rel="stylesheet" href="../css/Style.css" type="text/css" />
<script type="text/javascript" src="../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../assets/prettify/prettify.css" />
<script type="text/javascript" src="../assets/ui/js/jquery-1.4.2.min.js" ></script>
<script type="text/javascript" src="../assets/ui/js/lib.js" ></script>
<style type="text/css">
.specialHighlight { background-color:#FFECD2;} 
</style>
</head>

<body>
<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Select Scatter Chart &gt; Submitting data as form elements </td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>Since the select scatter chart is a visual data selection widget, you'll obviously need to submit the modified data to your scripts for further processing. The  chart offer you two methods to do the same:</p>
      <ol>
        <li>You can submit the updated data from chart to your server  side script (as form elements) in XML format or CSV Format.</li>
        <li>Or, you can submit this data as XML/array to client side JavaScript functions. These functions can now handle the data in the way they want to.</li>
      </ol>
      <p>In this section, we'll see how to submit the data to a server side script. </p></td>
  </tr>
  <tr>
    <td valign="top" class="header">Setting the form </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>To enable submission of data to server side script, you first need to make sure that the submit button is not hidden on your form. To show it, you use the following attribute:</p>
    <pre class="prettyprint code_container">&lt;chart ... showFormBtn='1' ...&gt;  </pre>
    <p>This adds a submit button to your chart as below: </p>
    <p><img src="../Images/ScatterBtn.jpg" class="imageBorder" /></p>
    <p>Now you need to define the form properties i.e., where and how this button would submit the data to.</p>
    <p> The following attributes let you define the form properties: </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><table class="table" border="0" cellpadding="0" cellspacing="0" width="98%">
      <tr class="trAttHeader">
        <td class="header" width="14%"> Attribute Name  </td>
        <td class="header" width='84%'> Description </td>
      </tr>

      <tr class='trLightBlueBg'>
        <td valign="top" class="codeInline">submitDataAsXML </td>
        <td valign='top' class="text">Whether the chart should submit data to the given server side script as XML or as CSV (comma separated values). By default, the chart submits the data as XML. </td>
      </tr>
      <tr class='trLightBlueBg'>
        <td width="25%" valign="top" class="codeInline"> formAction </td>
        <td width='45%' valign='top' class="text">URL of your server side script to which you want to submit   data. You can either use relative path or absolute path. The name of form   variable which is to be requested in this page is <span class="codeInline">strXML</span>. </td>
      </tr>
      <tr>
        <td width="25%" valign="top" class="codeInline"> formMethod </td>
        <td width='45%' valign='top' class="text">Method of form submission - POST or GET. We recommend POST   method if you're submitting data as XML. </td>
      </tr>
      <tr class='trLightBlueBg'>
        <td width="25%" valign="top" class="codeInline"> formTarget </td>
        <td width='45%' valign='top' class="text">Target of the form - <span class="codeInline">_blank</span> or <span class="codeInline">_self</span>. </td>
      </tr>
      <tr>
        <td width="25%" valign="top" class="codeInline"> formBtnTitle </td>
        <td width='45%' valign='top' class="text">Lets you configure the text for the submit button. By default,   it's &quot;Submit&quot;. </td>
      </tr>
      <tr class='trLightBlueBg'>
        <td valign="top" class="codeInline">btnTextColor</td>
        <td valign='top' class="text">Color of the button text. </td>
      </tr>
      <tr class='trLightBlueBg'>
        <td width="25%" valign="top" class="codeInline"> formBtnWidth </td>
        <td width='45%' valign='top' class="text">Lets you configure the width of the submit button. </td>
      </tr>
      <tr>
        <td width="25%" valign="top" class="codeInline"> formBtnBorderColor </td>
        <td width='45%' valign='top' class="text">Border color for the submit button. </td>
      </tr>
      <tr class='trLightBlueBg'>
        <td width="25%" valign="top" class="codeInline"> formBtnBgColor </td>
        <td width='45%' valign='top' class="text">Background color for the submit button. </td>
      </tr>

    </table></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p><span class="codeInline">formAction</span> is the most important attribute which contains the full path to your server side script.</p>
    <p>Example:</p>
    <pre class="prettyprint code_container">&lt;chart ... showFormBtn='1' formAction='../MyDataProcessor.asp' ..&gt;</pre>
    <p> If you do not specify this attribute, the form wouldn't submit at all. </p>
      <p>You can also define the form method (<span class="codeInline">GET</span> or <span class="codeInline">POST</span>) and target (<span class="codeInline">_self</span> or <span class="codeInline">_blank</span>) using the attributes above.</p>
    <p>Now, in your server side script (<span class="codeInline">MyDataProcess.asp</span> or   <span class="codeInline">MyDataProcess.php</span> or <span class="codeInline">MyDataProcess.aspx</span> or ...), you can request the updated XML data (or CSV Data) from chart as  <span class="codeInline">strXML</span> variable. For example, given below is the ASP code that simply requests the XML from chart and outputs it:</p>
      <pre class="prettyprint code_container">&lt;%
  Response.ContentType=&quot;text/xml&quot;
  Response.Write(Request(&quot;strXML&quot;))
%&gt;</pre>
    <p>In your scripts, you can request the XML data, parse it and then process it further as per your requirements. </p>
    <p>Let's select some data on the chart that we have created in the Overview page and click on Submit:</p>
    <p><img src="../Images/SelectSc1.jpg"> </p>
    <p>The XML below shows the selected data which is submitted to the server side script (the data elements are highlighted): </p>
    <pre class="code_container prettyprint">&lt;chart caption="Server Performance" subcaption="Drag over the points to select 
them. You can have multiple selections." yAxisName="Value" xAxisName="Load (TPS)" showLegend="1" showLabels="1" xAxisMaxValue="1.00" xAxisMinValue="0.01" submitDataAsXML="1" formAction="http://localhost/pccode/Datahandler.asp" formTarget="_blank">
	&lt;categories verticalLineColor="AA6666" verticalLineThickness="1">
	   &lt;category label="10" x="0.1" showVerticalLine="1" />
	   &lt;category label="20" x="0.2" showVerticalLine="1" />
	   &lt;category label="30" x="0.30" showVerticalLine="1" />
	   &lt;category label="40" x="0.40" showVerticalLine="1" />
	   &lt;category label="50" x="0.50" showVerticalLine="1" />
	   &lt;category label="60" x="0.60" showVerticalLine="1" />
	   &lt;category label="70" x="0.70" showVerticalLine="1" />
	   &lt;category label="80" x="0.80" showVerticalLine="1" />
	   &lt;category label="90" x="0.90" showVerticalLine="1" />
	   &lt;category label="100" x="1.00" showVerticalLine="0" />
	&lt;/categories>
	&lt;dataset id="DS1" seriesname="Dataset 1" color="ff5904" plotborderthickness="0" showplotborder="1">
<span class="specialHighlight">		 &lt;set id="S2" x="0.83" y="0.64" toolText="Dataset 1, 0.83, 0.64" showValue="0" />
		&lt;set id="S7" x="0.91" y="0.69" toolText="Dataset 1, 0.91, 0.69" showValue="0" />
		&lt;set id="S8" x="0.36" y="0.88" toolText="Dataset 1, 0.36, 0.88" showValue="0" />
		&lt;set id="S11" x="0.68" y="0.7" toolText="Dataset 1, 0.68, 0.7" showValue="0" />
		&lt;set id="S12" x="0.43" y="0.86" toolText="Dataset 1, 0.43, 0.86" showValue="0" />
		&lt;set id="S13" x="0.74" y="0.78" toolText="Dataset 1, 0.74, 0.78" showValue="0" />
		&lt;set id="S14" x="0.44" y="0.7" toolText="Dataset 1, 0.44, 0.7" showValue="0" /></span>
	&lt;/dataset>

	&lt;dataset id="DS2" seriesname="Dataset 2" color="00aaaa" plotborderthickness="0" showplotborder="1">
<span class="specialHighlight">		 &lt;set id="S1" x="0.78" y="0.88" toolText="Dataset 2, 0.78, 0.88" showValue="0" />
		&lt;set id="S2" x="0.77" y="0.81" toolText="Dataset 2, 0.77, 0.81" showValue="0" />
		&lt;set id="S4" x="0.78" y="0.69" toolText="Dataset 2, 0.78, 0.69" showValue="0" /></span>
	&lt;/dataset>
	&lt;styles>
	   &lt;definition>
		  &lt;style name="myCaptionFont" type="font" font="Arial" size="14" color="666666" bold="1" underline="1" /> 
	   &lt;/definition>
	   &lt;application>
		  &lt;apply toObject="Caption" styles="myCaptionFont" /> 
	   &lt;/application>
	&lt;/styles>
&lt;/chart></pre>
    <p>If you are returning CSV data from the chart, you can use the following code to request it in your server side script (the variable name of CSV data still stays the same as <span class="codeInline">strXML</span>):</p>
    <pre class="prettyprint code_container">&lt;%
&nbsp;&nbsp;&nbsp;Response.Write(Request(&quot;strXML&quot;))
%&gt; </pre>
    <p>The CSV data that is submitted contains all datasets separated by Pipe (|) character along with all the IDs of the selected <span class="codeInline">&lt;set&gt;</span> elements. The CSV below shows the submitted data: </p>
     <pre class="prettyprint code_container">DS1,S2,S7,S8,S11,S12,S13,S14<strong>|</strong>DS2,S1,S2,S4</pre>
    <p>&nbsp;</p>
    <p>Next, we'll see how to request the chart data in client side JavaScript functions. </p></td>
  </tr>
</table>
</body>
</html>
