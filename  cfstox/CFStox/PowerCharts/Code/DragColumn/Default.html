<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
        <title>PowerCharts v3 PowerCharts</title>

        <script type="text/javascript" src="../../Charts/FusionCharts.js"></script>

        <script type="text/javascript" src="../assets/ui/js/jquery-1.4.2.min.js"></script>
        <link href="../assets/ui/css/style.css" rel="stylesheet" type="text/css" />
        <script language="JavaScript">
            /**
             * readXMLFromChart() method is called when the user pressed the
             * button to return XML data
             */
            function readXMLFromChart(){
                //Get a reference to our chart
                var ourChart = FusionCharts("SelectChart");
		
                //Get the data from chart
                var xmlRtn = ourChart.getXMLData();
                //Show it to user in alert box.
                alert(xmlRtn);
            }
            /**
             * readXMLFromChart() method is called when the user pressed the
             * button to return XML data
             */
            function readJSONFromChart(){
                //Get a reference to our chart
                var ourChart = FusionCharts("SelectChart");

                //Get the data from chart
                var jsonRtn = ourChart.getJSONData();
                //Show it to user in alert box.
                alert(JSON.stringify(jsonRtn, undefined, 2));
            }
            /**
             * getDataFromChart method is called when the user has pressed the
             * button to show returned data from chart.
             */
            function getDataFromChart(){
                //Get a reference to our chart
                var ourChart = getChartFromId("SelectChart");


                //Now generate a tabular format of data returned as array
                var arrData = ourChart.getDataWithId();
                var i,j;
                //Now we'll generate an HTML string for it
                var strHTML = "<table width='100%' align='center' cellpadding='2' class='text' style='font-size:13px; color: #666666'>";
                for (i=0; i<arrData.length; i++){
                    //Iterate through each dataset series name (1st row)
                    if (i==0){
                        strHTML = strHTML + "<tr><td>&nbsp;</td>";
                        for (j=1; j<arrData[i].length; j++){
                            strHTML = strHTML+ "<td><b>" + arrData[i][j] + "</b></td>";
                        }
                        strHTML = strHTML + "</tr>";
                    } else {
                        //Retrieve category labels
                        strHTML = strHTML+ "<tr><td><b>" + arrData[i][0]; + "</b></td>";
                        //Get the data now.
                        for (j=1; j<arrData[i].length; j++){
                            strHTML = strHTML+ "<td>" +arrData[i][j][0] + " : $" + arrData[i][j][1]; + "</td>";
                        }
                        strHTML = strHTML+ "</tr>";
                    }
                }
                //Close table tag
                strHTML = strHTML + "</table>";
                //Write the XML data to the required div
                var tableDiv = document.getElementById('tableDataContainer');
                tableDiv.innerHTML = strHTML;

            }

        </script>

    </head>

    <body>
        <!-- wrapper -->
        <div id="wrapper">
            <!-- header -->
            <div id="header">
                <div class="logo"><a href="http://www.fusioncharts.com/powercharts/?BS=OfflineDocsLogo" target="_blank"><img src="../assets/ui/images/powerchartsv3.2-logo.jpg" width="180" height="97" alt="PowerCharts v3.2 logo" /></a></div>
                <h1 class="brand-name"></h1>
                <h1 class="logo-text-home">PowerCharts v3.2</h1>
            </div>
            <!-- content area -->
            <div class="content-area">
                <div id="content-area-inner-main">
                    <h2 class="headline">Predictive/Interactive Drag Column Chart</h2>

                    <div class="gen-chart-render">

                        <div id="chartdiv" align="center"> FusionCharts. </div>
                        <script type="text/javascript">
                            var chart = new FusionCharts("../../Charts/DragColumn2D.swf", "SelectChart", "580", "350", "0", "1");
                            chart.setDataURL("Data.xml");
                            chart.render("chartdiv");
                        </script>

                    </div>
                    <div class="clear"></div>
                    <p>&nbsp;</p>
                    <p style="BACKGROUND: #f7f9fb;COLOR: #666;BORDER: 1px solid #eff1f3;FONT-FAMILY: 'Trebuchet MS',Helvetica,sans-serif;FONT-SIZE: 10pt;padding:10px;margin:20px 20px;" >
                        Shown above is a "Revenue &amp; Profit Simulation" chart. There are two
                        datasets on the chart - first representing revenue and the other representing
                        profit. You can visually drag and drop the top part of columns of each dataset to simulate the
                        figures.<br/><br/>
                        Since revenue cannot be less than 0 in any case, we do not allow the revenue   
                        columns to go beyond 0 value. Also, we've assumed that the profit in fourth quarter cannot be negative.
                        The rest of profit columns can however go into negative zone. <br/><br/>
                        You can also adjust the axis upper and lower limits using the context menu.   
                        This is particularly useful, if you want any column to assume a value that is
                        not covered within the current y-axis range of chart.</p>
                    <p>&nbsp;</p>

                    <!-- action buttons -->
                    <div class="qua-button-holder">
                        <a class="qua qua-button view-chart-data" href="javascript:void(0)" onclick="getDataFromChart()"><span>View Data</span></a>
                        <a class="qua qua-button view-chart-data" href="javascript:void(0)" onclick="readXMLFromChart()"><span>View XML</span></a>
                    </div>

                    <p>&nbsp;</p>
                    <div id='tableDataContainer' style="margin: 0 auto; width: 630px; text-align: center; font-size:13px;BACKGROUND: #f7f9fb;COLOR: #666;BORDER: 1px solid #eff1f3;" >
                        Change the required data in chart and then click the above button to accept data from chart.
                    </div>

                    <p>&nbsp;</p>
                    <div class="underline-dull"></div>
                </div>
                <!-- footer -->
                <div id="footer">
                    <ul>
                        <li class="pipe"></li>
                    </ul>
                </div>
            </div>
        </div>
    </body>
</html>